{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"C:\\\\Users\\\\tarasenko_ag\\\\Desktop\\\\blog\\\\MyBlog\\\\frontNextJs\\\\pages\\\\index.js\";\nimport React, { useEffect, useState } from \"react\"; //import '../styles/globals.css';\n\nimport Blog from \"../components/Blog.jsx\";\nimport Layout from '../components/Layout.jsx'; // import { request, GraphQLClient, gql  } from 'graphql-request';\n\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client'; // ###############################################################\n// ###############################################################\n// This function gets called at build time\n\nexport async function getStaticProps() {\n  const client = new ApolloClient({\n    uri: \"https://api-eu-central-1.graphcms.com/v2/ckm5wfx4hhhng01xhe7gfaavz/master\",\n    cache: new InMemoryCache()\n  }); //destructure response to data obj\n\n  const {\n    posts\n  } = await client.query({\n    query: gql`{ \n            posts {\n                title\n                slug\n                excerpt\n              } \n        }`\n  });\n  console.log(\">>> PRERENDER Posts >>> \", posts);\n  return {\n    props: {\n      data\n    }\n  };\n} // ###############################################################\n// ###############################################################\n\nfunction Index(props) {\n  //get props from getStaticProps and destructure it to new object\n  //recieveing posts prop = [\"array from response\"], and default empty []\n  const {\n    posts = []\n  } = props; //console.log(\"INITIAL POSTS > \", posts);\n\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: /*#__PURE__*/_jsxDEV(Layout, {\n      children: posts.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          children: item.title\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 45\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: item.excerpt\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 66\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 40\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 13\n  }, this);\n}\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/tarasenko_ag/Desktop/blog/MyBlog/frontNextJs/pages/index.js"],"names":["React","useEffect","useState","Blog","Layout","ApolloClient","InMemoryCache","gql","getStaticProps","client","uri","cache","posts","query","console","log","props","data","Index","map","item","title","excerpt"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C,C,CACA;;AAEA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,MAAP,MAAmB,0BAAnB,C,CACA;;AACA,SAASC,YAAT,EAAuBC,aAAvB,EAAsCC,GAAtC,QAAiD,gBAAjD,C,CAMA;AACA;AAGA;;AACA,OAAO,eAAeC,cAAf,GAAgC;AAEnC,QAAMC,MAAM,GAAG,IAAIJ,YAAJ,CAAiB;AAC5BK,IAAAA,GAAG,EAAE,2EADuB;AAE5BC,IAAAA,KAAK,EAAE,IAAIL,aAAJ;AAFqB,GAAjB,CAAf,CAFmC,CAOnC;;AACA,QAAM;AAACM,IAAAA;AAAD,MAAU,MAAMH,MAAM,CAACI,KAAP,CAAa;AAC/BA,IAAAA,KAAK,EAAEN,GAAI;AACnB;AACA;AACA;AACA;AACA;AACA;AAPuC,GAAb,CAAtB;AAUDO,EAAAA,OAAO,CAACC,GAAR,CAAY,0BAAZ,EAAwCH,KAAxC;AAGC,SAAO;AACHI,IAAAA,KAAK,EAAE;AACHC,MAAAA;AADG;AADJ,GAAP;AAKD,C,CAKH;AACA;;AACA,SAASC,KAAT,CAAgBF,KAAhB,EAAwB;AACpB;AACA;AACA,QAAM;AAAEJ,IAAAA,KAAK,GAAG;AAAV,MAAiBI,KAAvB,CAHoB,CAIpB;;AAEA,sBAAQ,QAAC,KAAD,CAAO,QAAP;AAAA,2BACI,QAAC,MAAD;AAAA,gBAEKJ,KAAK,CAACO,GAAN,CAAUC,IAAI,iBAAI;AAAA,gCAAK;AAAA,oBAAKA,IAAI,CAACC;AAAV;AAAA;AAAA;AAAA;AAAA,gBAAL,eAA0B;AAAA,oBAAID,IAAI,CAACE;AAAT;AAAA;AAAA;AAAA;AAAA,gBAA1B;AAAA;AAAA;AAAA;AAAA;AAAA,cAAlB;AAFL;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UAAR;AAMH;;AAED,eAAeJ,KAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\r\n//import '../styles/globals.css';\r\n\r\nimport Blog from \"../components/Blog.jsx\";\r\nimport Layout from '../components/Layout.jsx';\r\n// import { request, GraphQLClient, gql  } from 'graphql-request';\r\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client';\r\n\r\n\r\n\r\n\r\n\r\n// ###############################################################\r\n// ###############################################################\r\n\r\n\r\n// This function gets called at build time\r\nexport async function getStaticProps() {\r\n\r\n    const client = new ApolloClient({\r\n        uri: \"https://api-eu-central-1.graphcms.com/v2/ckm5wfx4hhhng01xhe7gfaavz/master\",\r\n        cache: new InMemoryCache()\r\n    });\r\n\r\n    //destructure response to data obj\r\n    const {posts} = await client.query({\r\n        query: gql`{ \r\n            posts {\r\n                title\r\n                slug\r\n                excerpt\r\n              } \r\n        }`\r\n    });\r\n\r\n   console.log(\">>> PRERENDER Posts >>> \", posts);\r\n\r\n\r\n    return {\r\n        props: {\r\n            data\r\n        },\r\n      };\r\n  }\r\n\r\n\r\n\r\n\r\n// ###############################################################\r\n// ###############################################################\r\nfunction Index( props ) {\r\n    //get props from getStaticProps and destructure it to new object\r\n    //recieveing posts prop = [\"array from response\"], and default empty []\r\n    const { posts = [] } = props;\r\n    //console.log(\"INITIAL POSTS > \", posts);\r\n    \r\n    return  <React.Fragment>\r\n                <Layout >\r\n                    {/* {data.posts.length > 1 ? <Blog source={data} test={\"testing string\"} /> : <p>Loading...</p>} */}\r\n                    {posts.map(item => <div><h1>{item.title}</h1><p>{item.excerpt}</p></div>)}\r\n                </Layout>\r\n            </React.Fragment>\r\n}\r\n\r\nexport default Index;"]},"metadata":{},"sourceType":"module"}