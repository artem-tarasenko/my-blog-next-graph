{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React from \"react\"; //import '../styles/globals.css';\n\nimport Blog from \"../../components/Blog.jsx\";\nimport Layout from '../../components/Layout.jsx'; // import { request, GraphQLClient, gql  } from 'graphql-request';\n\nimport { ApolloClient, InMemoryCache, gql } from '@apollo/client'; // ###############################################################\n// ###############################################################\n\nconst client = new ApolloClient({\n  uri: process.env.REACT_APP_GRAPH_API,\n  cache: new InMemoryCache()\n}); // ###############################################################\n// ###############################################################\n// This function gets called at build time\n\nexport async function getStaticProps() {\n  //destructure response to data obj\n  const {\n    data: {\n      posts\n    }\n  } = await client.query({\n    query: gql`{ \n            posts {\n                slug\n                title\n                date\n                createdAt\n                excerpt\n                tags\n                coverImage {\n                  url\n                }\n              } \n        }`\n  });\n  return {\n    props: {\n      posts\n    }\n  };\n} // ###############################################################\n// ###############################################################\n\nfunction Index(props) {\n  //get props from getStaticProps and destructure it to new object\n  //recieveing posts prop = [\"array from response\"], and default empty []\n  const {\n    posts = []\n  } = props; //console.log(\"INITIAL POSTS DATA > \", posts);\n\n  return /*#__PURE__*/_jsx(React.Fragment, {\n    children: /*#__PURE__*/_jsx(Layout, {\n      children: posts.length > 1 ? /*#__PURE__*/_jsx(Blog, {\n        source: posts,\n        test: \"testing string\",\n        category: \"posts\"\n      }) : /*#__PURE__*/_jsx(\"p\", {\n        children: \"Loading...\"\n      })\n    })\n  });\n}\n\nexport default Index;","map":null,"metadata":{},"sourceType":"module"}